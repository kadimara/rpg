import{s as be,E as ye,e as U,a as J,c as T,b as ee,f as S,g as q,m as z,o as k,w as ae,Y as x,i as F,h as H,G as we,H as Pe,I as _e,k as Ce,A as ke}from"./scheduler.CiY16n3P.js";import{S as Ee,i as Le,t as Oe,d as Se}from"./index.DNYLjpUt.js";import{p as xe}from"./stores.BAyGDg7U.js";import{a as oe,b as ie,i as le,n as ce}from"./data.CNihxOOj.js";import{_ as Ae}from"./preload-helper.D6kgxu3v.js";import{i as de}from"./item.c_xQnBEy.js";import{b as Y}from"./entry.C5ucF0-m.js";const $e=!0,Xe=Object.freeze(Object.defineProperty({__proto__:null,prerender:$e},Symbol.toStringTag,{value:"Module"}));/*! Capacitor: https://capacitorjs.com/ - MIT License */const je=t=>{const e=new Map;e.set("web",{name:"web"});const s=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},n=(r,i)=>{s.platforms.set(r,i)},o=r=>{s.platforms.has(r)&&(s.currentPlatform=s.platforms.get(r))};return s.addPlatform=n,s.setPlatform=o,s},Ie=t=>t.CapacitorPlatforms=je(t),me=Ie(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});me.addPlatform;me.setPlatform;var R;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(R||(R={}));class te extends Error{constructor(e,s,n){super(e),this.message=e,this.code=s,this.data=n}}const Ue=t=>{var e,s;return t!=null&&t.androidBridge?"android":!((s=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},Te=t=>{var e,s,n,o,r;const i=t.CapacitorCustomPlatform||null,a=t.Capacitor||{},f=a.Plugins=a.Plugins||{},l=t.CapacitorPlatforms,j=()=>i!==null?i.name:Ue(t),P=((e=l==null?void 0:l.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||j,v=()=>P()!=="web",G=((s=l==null?void 0:l.currentPlatform)===null||s===void 0?void 0:s.isNativePlatform)||v,W=d=>{const u=c.get(d);return!!(u!=null&&u.platforms.has(P())||b(d))},y=((n=l==null?void 0:l.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||W,V=d=>{var u;return(u=a.PluginHeaders)===null||u===void 0?void 0:u.find(M=>M.name===d)},b=((o=l==null?void 0:l.currentPlatform)===null||o===void 0?void 0:o.getPluginHeader)||V,B=d=>t.console.error(d),h=(d,u,M)=>Promise.reject(`${M} does not have an implementation of "${u}".`),c=new Map,m=(d,u={})=>{const M=c.get(d);if(M)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),M.proxy;const I=P(),D=b(d);let E;const he=async()=>(!E&&I in u?E=typeof u[I]=="function"?E=await u[I]():E=u[I]:i!==null&&!E&&"web"in u&&(E=typeof u.web=="function"?E=await u.web():E=u.web),E),ve=(g,p)=>{var C,L;if(D){const O=D==null?void 0:D.methods.find(w=>p===w.name);if(O)return O.rtype==="promise"?w=>a.nativePromise(d,p.toString(),w):(w,K)=>a.nativeCallback(d,p.toString(),w,K);if(g)return(C=g[p])===null||C===void 0?void 0:C.bind(g)}else{if(g)return(L=g[p])===null||L===void 0?void 0:L.bind(g);throw new te(`"${d}" plugin is not implemented on ${I}`,R.Unimplemented)}},X=g=>{let p;const C=(...L)=>{const O=he().then(w=>{const K=ve(w,g);if(K){const N=K(...L);return p=N==null?void 0:N.remove,N}else throw new te(`"${d}.${g}()" is not implemented on ${I}`,R.Unimplemented)});return g==="addListener"&&(O.remove=async()=>p()),O};return C.toString=()=>`${g.toString()}() { [capacitor code] }`,Object.defineProperty(C,"name",{value:g,writable:!1,configurable:!1}),C},re=X("addListener"),ne=X("removeListener"),pe=(g,p)=>{const C=re({eventName:g},p),L=async()=>{const w=await C;ne({eventName:g,callbackId:w},p)},O=new Promise(w=>C.then(()=>w({remove:L})));return O.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await L()},O},Z=new Proxy({},{get(g,p){switch(p){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return D?pe:re;case"removeListener":return ne;default:return X(p)}}});return f[d]=Z,c.set(d,{name:d,proxy:Z,platforms:new Set([...Object.keys(u),...D?[I]:[]])}),Z},_=((r=l==null?void 0:l.currentPlatform)===null||r===void 0?void 0:r.registerPlugin)||m;return a.convertFileSrc||(a.convertFileSrc=d=>d),a.getPlatform=P,a.handleError=B,a.isNativePlatform=G,a.isPluginAvailable=y,a.pluginMethodNoop=h,a.registerPlugin=_,a.Exception=te,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},He=t=>t.Capacitor=Te(t),Q=He(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),se=Q.registerPlugin;Q.Plugins;class ge{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,s){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(s);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),n&&this.sendRetainedArgumentsForEvent(e);const i=async()=>this.removeListener(e,s);return Promise.resolve({remove:i})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,s,n){const o=this.listeners[e];if(!o){if(n){let r=this.retainedEventArguments[e];r||(r=[]),r.push(s),this.retainedEventArguments[e]=r}return}o.forEach(r=>r(s))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,s){this.windowListeners[s]={registered:!1,windowEventName:e,pluginEventName:s,handler:n=>{this.notifyListeners(s,n)}}}unimplemented(e="not implemented"){return new Q.Exception(e,R.Unimplemented)}unavailable(e="not available"){return new Q.Exception(e,R.Unavailable)}async removeListener(e,s){const n=this.listeners[e];if(!n)return;const o=n.indexOf(s);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const s=this.retainedEventArguments[e];s&&(delete this.retainedEventArguments[e],s.forEach(n=>{this.notifyListeners(e,n)}))}}const ue=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),fe=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Me extends ge{async getCookies(){const e=document.cookie,s={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[o,r]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=fe(o).trim(),r=fe(r).trim(),s[o]=r}),s}async setCookie(e){try{const s=ue(e.key),n=ue(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,r=(e.path||"/").replace("path=",""),i=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${s}=${n||""}${o}; path=${r}; ${i};`}catch(s){return Promise.reject(s)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const s of e)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}se("CapacitorCookies",{web:()=>new Me});const De=async t=>new Promise((e,s)=>{const n=new FileReader;n.onload=()=>{const o=n.result;e(o.indexOf(",")>=0?o.split(",")[1]:o)},n.onerror=o=>s(o),n.readAsDataURL(t)}),Re=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(o=>o.toLocaleLowerCase()).reduce((o,r,i)=>(o[r]=t[e[i]],o),{})},We=(t,e=!0)=>t?Object.entries(t).reduce((n,o)=>{const[r,i]=o;let a,f;return Array.isArray(i)?(f="",i.forEach(l=>{a=e?encodeURIComponent(l):l,f+=`${r}=${a}&`}),f.slice(0,-1)):(a=e?encodeURIComponent(i):i,f=`${r}=${a}`),`${n}&${f}`},"").substr(1):null,Be=(t,e={})=>{const s=Object.assign({method:t.method||"GET",headers:t.headers},e),o=Re(t.headers)["content-type"]||"";if(typeof t.data=="string")s.body=t.data;else if(o.includes("application/x-www-form-urlencoded")){const r=new URLSearchParams;for(const[i,a]of Object.entries(t.data||{}))r.set(i,a);s.body=r.toString()}else if(o.includes("multipart/form-data")||t.data instanceof FormData){const r=new FormData;if(t.data instanceof FormData)t.data.forEach((a,f)=>{r.append(f,a)});else for(const a of Object.keys(t.data))r.append(a,t.data[a]);s.body=r;const i=new Headers(s.headers);i.delete("content-type"),s.headers=i}else(o.includes("application/json")||typeof t.data=="object")&&(s.body=JSON.stringify(t.data));return s};class Je extends ge{async request(e){const s=Be(e,e.webFetchExtra),n=We(e.params,e.shouldEncodeUrlParams),o=n?`${e.url}?${n}`:e.url,r=await fetch(o,s),i=r.headers.get("content-type")||"";let{responseType:a="text"}=r.ok?e:{};i.includes("application/json")&&(a="json");let f,l;switch(a){case"arraybuffer":case"blob":l=await r.blob(),f=await De(l);break;case"json":f=await r.json();break;case"document":case"text":default:f=await r.text()}const j={};return r.headers.forEach((P,v)=>{j[v]=P}),{data:f,headers:j,status:r.status,url:r.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}se("CapacitorHttp",{web:()=>new Je});const A=se("Preferences",{web:()=>Ae(()=>import("./web.C20L2A1S.js"),[],import.meta.url).then(t=>new t.PreferencesWeb)});class ${static setInfo(e){A.set({key:"info",value:JSON.stringify(e)})}static async getInfo(){const e=await A.get({key:"info"});return JSON.parse(e.value||"{}")}static setBaseStats(e){A.set({key:"baseStats",value:JSON.stringify(e)})}static async getBaseStats(){const e=await A.get({key:"baseStats"});return JSON.parse(e.value||"{}")}static setItems(e){const s=e.map(n=>({key:n.key,anchor:n.anchor}));A.set({key:"items",value:JSON.stringify(s)})}static async getItems(){const e=await A.get({key:"items"});return JSON.parse(e.value||"[]").filter(n=>n.anchor[0]!=null&&n.anchor[1]!=null&&de[n.key]).map((n,o)=>({...de[n.key],...n,_id:o}))}static setNotes(e){A.set({key:"notes",value:JSON.stringify(e)})}static async getNotes(){const e=await A.get({key:"notes"});return JSON.parse(e.value||"[]")}}function qe(t){let e,s,n,o,r,i,a="HOME",f,l,j="BAG",P,v,G="ITEMS",W,y,V="NOTES",b;const B=t[3].default,h=ye(B,t,t[2],null);return{c(){e=U("div"),h&&h.c(),s=J(),n=U("div"),o=J(),r=U("nav"),i=U("a"),i.textContent=a,f=J(),l=U("a"),l.textContent=j,P=J(),v=U("a"),v.textContent=G,W=J(),y=U("a"),y.textContent=V,this.h()},l(c){e=T(c,"DIV",{class:!0,style:!0});var m=ee(e);h&&h.l(m),m.forEach(S),s=q(c),n=T(c,"DIV",{style:!0}),ee(n).forEach(S),o=q(c),r=T(c,"NAV",{class:!0});var _=ee(r);i=T(_,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(i)!=="svelte-1b0kwui"&&(i.textContent=a),f=q(_),l=T(_,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(l)!=="svelte-x5vbe9"&&(l.textContent=j),P=q(_),v=T(_,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(v)!=="svelte-17y4sv3"&&(v.textContent=G),W=q(_),y=T(_,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(y)!=="svelte-1dyi8t4"&&(y.textContent=V),_.forEach(S),this.h()},h(){k(e,"class","flex-col gap-4"),ae(e,"padding","8px"),ae(n,"height","30px"),k(i,"href",Y+"/"),k(i,"class","svelte-1xko4y9"),x(i,"active",t[0]=="/"),k(l,"href",Y+"/bag"),k(l,"class","svelte-1xko4y9"),x(l,"active",t[0]=="/bag"),k(v,"href",Y+"/items"),k(v,"class","svelte-1xko4y9"),x(v,"active",t[0]=="/items"),k(y,"href",Y+"/notes"),k(y,"class","svelte-1xko4y9"),x(y,"active",t[0]=="/notes"),k(r,"class","svelte-1xko4y9")},m(c,m){F(c,e,m),h&&h.m(e,null),F(c,s,m),F(c,n,m),F(c,o,m),F(c,r,m),H(r,i),H(r,f),H(r,l),H(r,P),H(r,v),H(r,W),H(r,y),b=!0},p(c,[m]){h&&h.p&&(!b||m&4)&&we(h,B,c,c[2],b?_e(B,c[2],m,null):Pe(c[2]),null),(!b||m&1)&&x(i,"active",c[0]=="/"),(!b||m&1)&&x(l,"active",c[0]=="/bag"),(!b||m&1)&&x(v,"active",c[0]=="/items"),(!b||m&1)&&x(y,"active",c[0]=="/notes")},i(c){b||(Oe(h,c),b=!0)},o(c){Se(h,c),b=!1},d(c){c&&(S(e),S(s),S(n),S(o),S(r)),h&&h.d(c)}}}function Fe(t,e,s){let n,o;Ce(t,xe,a=>s(1,o=a));let{$$slots:r={},$$scope:i}=e;return ke(async()=>{oe.set(await $.getInfo()),oe.subscribe(a=>$.setInfo(a)),ie.set(await $.getBaseStats()),ie.subscribe(a=>$.setBaseStats(a)),le.set(await $.getItems()),le.subscribe(a=>$.setItems(a)),ce.set(await $.getNotes()),ce.subscribe(a=>{console.log("SET NOTES"),$.setNotes(a)})}),t.$$set=a=>{"$$scope"in a&&s(2,i=a.$$scope)},t.$$.update=()=>{t.$$.dirty&2&&s(0,n=o.url.pathname)},[n,o,i,r]}class Ze extends Ee{constructor(e){super(),Le(this,e,Fe,qe,be,{})}}export{Ze as L,ge as W,Xe as _};
