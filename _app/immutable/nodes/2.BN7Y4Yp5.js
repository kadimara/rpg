import{s as se,e as E,t as H,a as z,c as I,b as D,d as A,f as V,g as L,o as _,w as N,i as w,h as m,j as K,n as W,m as ue,X as ae,x as q,u as U,q as re,v as oe,k as j,l as ce,p as fe}from"../chunks/scheduler.CiY16n3P.js";import{S as ne,i as ie,t as M,f as de,d as X,b as _e,c as me,a as pe,m as he,e as ve,g as ge}from"../chunks/index.DNYLjpUt.js";import{e as Q}from"../chunks/each.B8sSIOQY.js";import{a as P,b as Z,i as be}from"../chunks/data.CNihxOOj.js";const B=["strength","defence","dexterity","basic","constitution","weapons_tools","intelligence","guns","wisdom","energy_magic","charisma","ultimate"];function $(t){return t.replace("_"," & ").toUpperCase()}function x(t){switch(t){case"strength":case"dexterity":case"constitution":case"intelligence":case"wisdom":case"charisma":return"d20.png";case"defence":return"def.png";case"basic":return"d4.png";case"weapons_tools":return"d6.png";case"guns":return"d8.png";case"energy_magic":return"d10.png";case"ultimate":return"d12.png"}}function Ve(t){let e;return{c(){e=H("CON + LOOT = DEF")},l(l){e=A(l,"CON + LOOT = DEF")},m(l,u){w(l,e,u)},p:W,d(l){l&&V(e)}}}function Ee(t){let e,l,u,d;return{c(){e=H("BASE "),l=E("input"),this.h()},l(c){e=A(c,"BASE "),l=I(c,"INPUT",{type:!0,style:!0,min:!0,max:!0,class:!0}),this.h()},h(){_(l,"type","number"),N(l,"color",t[0]?"currentColor":"#222"),_(l,"min","0"),_(l,"max","9"),_(l,"class","svelte-18uqz1s")},m(c,n){w(c,e,n),w(c,l,n),q(l,t[0]),u||(d=U(l,"input",t[4]),u=!0)},p(c,n){n&1&&N(l,"color",c[0]?"currentColor":"#222"),n&1&&ae(l.value)!==c[0]&&q(l,c[0])},d(c){c&&(V(e),V(l)),u=!1,d()}}}function ee(t){let e,l="10 + DEF = ENEMY TO HIT ROLL";return{c(){e=E("div"),e.textContent=l,this.h()},l(u){e=I(u,"DIV",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-1v36i2l"&&(e.textContent=l),this.h()},h(){_(e,"class","small svelte-18uqz1s")},m(u,d){w(u,e,d)},d(u){u&&V(e)}}}function Ie(t){let e,l,u=$(t[1])+"",d,c,n,o,f,S,p,O,T,k,C,g,v;function b(a,i){return a[1]!=="defence"?Ee:Ve}let r=b(t),h=r(t),s=t[1]==="defence"&&ee();return{c(){e=E("div"),l=E("div"),d=H(u),c=z(),n=E("div"),o=E("div"),f=H(t[3]),S=z(),p=E("div"),O=E("div"),h.c(),T=z(),k=E("div"),C=H(`LOOT\r
				`),g=E("input"),v=z(),s&&s.c(),this.h()},l(a){e=I(a,"DIV",{class:!0});var i=D(e);l=I(i,"DIV",{class:!0});var y=D(l);d=A(y,u),y.forEach(V),c=L(i),n=I(i,"DIV",{class:!0});var R=D(n);o=I(R,"DIV",{class:!0,style:!0});var G=D(o);f=A(G,t[3]),G.forEach(V),S=L(R),p=I(R,"DIV",{class:!0});var F=D(p);O=I(F,"DIV",{class:!0});var J=D(O);h.l(J),J.forEach(V),T=L(F),k=I(F,"DIV",{class:!0});var Y=D(k);C=A(Y,`LOOT\r
				`),g=I(Y,"INPUT",{type:!0,style:!0,min:!0,max:!0,class:!0}),Y.forEach(V),F.forEach(V),R.forEach(V),v=L(i),s&&s.l(i),i.forEach(V),this.h()},h(){_(l,"class","stat svelte-18uqz1s"),_(o,"class","value svelte-18uqz1s"),N(o,"background-image","url("+x(t[1])+")"),_(O,"class","align-items-baseline small input svelte-18uqz1s"),_(g,"type","number"),N(g,"color",t[2]?"currentColor":"#222"),_(g,"min","0"),_(g,"max","9"),g.value=t[2],g.disabled=!0,_(g,"class","svelte-18uqz1s"),_(k,"class","align-items-baseline small input svelte-18uqz1s"),_(p,"class","flex-col"),_(n,"class","flex-row gap-1 align-items-center"),_(e,"class","flex-col")},m(a,i){w(a,e,i),m(e,l),m(l,d),m(e,c),m(e,n),m(n,o),m(o,f),m(n,S),m(n,p),m(p,O),h.m(O,null),m(p,T),m(p,k),m(k,C),m(k,g),m(e,v),s&&s.m(e,null)},p(a,[i]){i&2&&u!==(u=$(a[1])+"")&&K(d,u),i&8&&K(f,a[3]),i&2&&N(o,"background-image","url("+x(a[1])+")"),r===(r=b(a))&&h?h.p(a,i):(h.d(1),h=r(a),h&&(h.c(),h.m(O,null))),i&4&&N(g,"color",a[2]?"currentColor":"#222"),i&4&&g.value!==a[2]&&(g.value=a[2]),a[1]==="defence"?s||(s=ee(),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:W,o:W,d(a){a&&V(e),h.d(),s&&s.d()}}}function Oe(t,e,l){let{stat:u}=e,{baseValue:d}=e,{lootValue:c}=e,{value:n}=e;function o(){d=ae(this.value),l(0,d)}return t.$$set=f=>{"stat"in f&&l(1,u=f.stat),"baseValue"in f&&l(0,d=f.baseValue),"lootValue"in f&&l(2,c=f.lootValue),"value"in f&&l(3,n=f.value)},[d,u,c,n,o]}class Te extends ne{constructor(e){super(),ie(this,e,Oe,Ie,se,{stat:1,baseValue:0,lootValue:2,value:3})}}function te(t,e,l){const u=t.slice();return u[13]=e[l],u[14]=e,u[15]=l,u}function le(t){let e,l,u;function d(n){t[10](n,t[13])}let c={stat:t[13],value:t[2][t[13]],lootValue:t[0][t[13]]};return t[1][t[13]]!==void 0&&(c.baseValue=t[1][t[13]]),e=new Te({props:c}),ce.push(()=>_e(e,"baseValue",d)),{c(){me(e.$$.fragment)},l(n){pe(e.$$.fragment,n)},m(n,o){he(e,n,o),u=!0},p(n,o){t=n;const f={};o&4&&(f.value=t[2][t[13]]),o&1&&(f.lootValue=t[0][t[13]]),!l&&o&2&&(l=!0,f.baseValue=t[1][t[13]],fe(()=>l=!1)),e.$set(f)},i(n){u||(M(e.$$.fragment,n),u=!0)},o(n){X(e.$$.fragment,n),u=!1},d(n){ve(e,n)}}}function ke(t){let e,l,u,d,c,n,o,f,S,p,O,T,k,C,g,v,b=Q(B),r=[];for(let s=0;s<b.length;s+=1)r[s]=le(te(t,b,s));const h=s=>X(r[s],1,1,()=>{r[s]=null});return{c(){e=E("div"),l=E("input"),u=z(),d=E("input"),c=z(),n=E("input"),o=z(),f=E("input"),S=z(),p=E("input"),O=z(),T=E("div");for(let s=0;s<r.length;s+=1)r[s].c();k=H(`\r
\r
HEALTH --- HERO COIN`),this.h()},l(s){e=I(s,"DIV",{style:!0});var a=D(e);l=I(a,"INPUT",{placeholder:!0,class:!0}),u=L(a),d=I(a,"INPUT",{placeholder:!0,class:!0}),c=L(a),n=I(a,"INPUT",{placeholder:!0,class:!0}),o=L(a),f=I(a,"INPUT",{placeholder:!0,class:!0}),S=L(a),p=I(a,"INPUT",{placeholder:!0,style:!0,class:!0}),a.forEach(V),O=L(s),T=I(s,"DIV",{class:!0});var i=D(T);for(let y=0;y<r.length;y+=1)r[y].l(i);i.forEach(V),k=A(s,`\r
\r
HEALTH --- HERO COIN`),this.h()},h(){_(l,"placeholder","NAME"),_(l,"class","svelte-1cqz55i"),_(d,"placeholder","LIFEFORM"),_(d,"class","svelte-1cqz55i"),_(n,"placeholder","CLASS"),_(n,"class","svelte-1cqz55i"),_(f,"placeholder","WORLD"),_(f,"class","svelte-1cqz55i"),_(p,"placeholder","STORY"),N(p,"grid-column","1 / 3"),_(p,"class","svelte-1cqz55i"),N(e,"display","grid"),N(e,"grid-template-columns","auto auto"),_(T,"class","grid gap-1 align-items-center svelte-1cqz55i")},m(s,a){w(s,e,a),m(e,l),q(l,t[3].name),m(e,u),m(e,d),q(d,t[3].lifeform),m(e,c),m(e,n),q(n,t[3].class),m(e,o),m(e,f),q(f,t[3].world),m(e,S),m(e,p),q(p,t[3].story),w(s,O,a),w(s,T,a);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(T,null);w(s,k,a),C=!0,g||(v=[U(l,"input",t[5]),U(d,"input",t[6]),U(n,"input",t[7]),U(f,"input",t[8]),U(p,"input",t[9])],g=!0)},p(s,[a]){if(a&8&&l.value!==s[3].name&&q(l,s[3].name),a&8&&d.value!==s[3].lifeform&&q(d,s[3].lifeform),a&8&&n.value!==s[3].class&&q(n,s[3].class),a&8&&f.value!==s[3].world&&q(f,s[3].world),a&8&&p.value!==s[3].story&&q(p,s[3].story),a&7){b=Q(B);let i;for(i=0;i<b.length;i+=1){const y=te(s,b,i);r[i]?(r[i].p(y,a),M(r[i],1)):(r[i]=le(y),r[i].c(),M(r[i],1),r[i].m(T,null))}for(ge(),i=b.length;i<r.length;i+=1)h(i);de()}},i(s){if(!C){for(let a=0;a<b.length;a+=1)M(r[a]);C=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)X(r[a]);C=!1},d(s){s&&(V(e),V(O),V(T),V(k)),re(r,s),g=!1,oe(v)}}}function qe(t,e,l){let u,d,c,n,o;j(t,Z,v=>l(1,c=v)),j(t,be,v=>l(4,n=v)),j(t,P,v=>l(3,o=v));const f=v=>{const b={};return B.forEach(r=>{b[r]=v.reduce((h,s)=>{var a;return h+(((a=s.stats)==null?void 0:a.filter(i=>i===r).length)||0)},0)}),b},S=(v,b)=>{const r={};return B.forEach(h=>{const s=v[h]||0,a=b[h]||0;if(h=="defence"){const i=v.constitution||0,y=b.constitution||0;r[h]=Math.min(i+y+a);return}r[h]=Math.min(s+a,10)}),r};function p(){o.name=this.value,P.set(o)}function O(){o.lifeform=this.value,P.set(o)}function T(){o.class=this.value,P.set(o)}function k(){o.world=this.value,P.set(o)}function C(){o.story=this.value,P.set(o)}function g(v,b){t.$$.not_equal(c[b],v)&&(c[b]=v,Z.set(c))}return t.$$.update=()=>{t.$$.dirty&16&&l(0,u=f(n)),t.$$.dirty&3&&l(2,d=S(c,u))},[u,c,d,o,n,p,O,T,k,C,g]}class ze extends ne{constructor(e){super(),ie(this,e,qe,ke,se,{})}}export{ze as component};
